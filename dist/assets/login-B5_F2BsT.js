import{m as d}from"./manageBaseUrl-BqVoOfTC.js";/* empty css                  */import{e as r,a as l,p as c,l as f}from"./errorHelper-hiI84cHa.js";import{i as p,a as h,r as w}from"./helper-j1ULhG3T.js";import"./constant-DWVoamgU.js";d();p()&&(window.location.href="/po2_emp_management//src/screen/employeeDashboard.html");const y=()=>{const{authForm:g,emailInput:o,passwordInput:t,submitButton:s}=h();g.addEventListener("submit",async u=>{var m;u.preventDefault();const i=o.value.trim(),n=t.value.trim();r({message:"",success:!0}),l(""),c("");let a=!1;if(i||(l("Email is required."),a=!0),n||(c("Password is required."),a=!0),!a){s.disabled=!0,s.innerText="Logging in...";try{const e=await f(i,n);console.log(e),e.success?(localStorage.setItem("token",(m=e==null?void 0:e.message)==null?void 0:m.user),r({success:!0,message:e.message.message||"Login Successful"}),setTimeout(()=>{window.location.href="/po2_emp_management/src/screen/employeeDashboard.html"},1e3)):r({success:!1,message:(e==null?void 0:e.message)||"Login failed. Please try again."})}catch(e){console.error("Error logging in:",e),r({success:!1,message:"An error occurred. Please try again later."})}finally{w(o,t),s.disabled=!1,s.innerText="Login"}}})};y();

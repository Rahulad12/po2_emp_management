import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                  */import{i as d,a as f,e as r,b as c,p as m,l as p,r as h}from"./errorHelper-Cs5CMN5R.js";import"./constant-DWVoamgU.js";d()&&(window.location.href="../screen/employeeDashboard.html");const w=()=>{const{authForm:u,emailInput:o,passwordInput:t,submitButton:s}=f();u.addEventListener("submit",async g=>{var n;g.preventDefault();const i=o.value.trim(),l=t.value.trim();r({message:"",success:!0}),c(""),m("");let a=!1;if(i||(c("Email is required."),a=!0),l||(m("Password is required."),a=!0),!a){s.disabled=!0,s.innerText="Logging in...";try{const e=await p(i,l);console.log(e),e.success?(localStorage.setItem("token",(n=e==null?void 0:e.message)==null?void 0:n.user),r({success:!0,message:e.message.message||"Login Successful"}),setTimeout(()=>{window.location.href="/src/screen/employeeDashboard.html"},1e3)):r({success:!1,message:(e==null?void 0:e.message)||"Login failed. Please try again."})}catch(e){console.error("Error logging in:",e),r({success:!1,message:"An error occurred. Please try again later."})}finally{h(o,t),s.disabled=!1,s.innerText="Login"}}})};w();
